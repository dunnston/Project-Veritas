[gd_scene load_steps=22 format=3 uid="uid://c2573nft4atpy"]

[ext_resource type="PackedScene" uid="uid://b7nmxvx4kpqeh" path="res://scenes/enemies/BasicEnemy.tscn" id="1_basic_enemy"]
[ext_resource type="PackedScene" uid="uid://b7qk4m8xqp1hs" path="res://scenes/enemies/RangedEnemy.tscn" id="3_ranged_enemy"]
[ext_resource type="PackedScene" path="res://scenes/enemies/HeavyMeleeEnemy.tscn" id="4_heavy_enemy"]
[ext_resource type="PackedScene" path="res://scenes/enemies/ScoutEnemy.tscn" id="5_scout_enemy"]
[ext_resource type="PackedScene" path="res://scenes/enemies/EngineerEnemy.tscn" id="6_engineer_enemy"]
[ext_resource type="Script" uid="uid://cynpb7fkd2yqn" path="res://scripts/levels/Phase4TestSetup.gd" id="7_test_setup"]
[ext_resource type="PackedScene" path="res://scenes/player/AnimatedPlayer.tscn" id="8_player"]
[ext_resource type="Script" uid="uid://cr1hhdwbh2ejq" path="res://scripts/ui/HUD.gd" id="9_hud"]
[ext_resource type="PackedScene" uid="uid://undps3vqfdyu" path="res://scenes/ui/Hotbar.tscn" id="10_hotbar"]
[ext_resource type="PackedScene" uid="uid://ttributesui" path="res://scenes/ui/AttributesUI.tscn" id="11_attributes"]
[ext_resource type="PackedScene" uid="uid://dd2xhpgk2eax2" path="res://scenes/ui/SkillDebugUI.tscn" id="12_skill_debug"]
[ext_resource type="PackedScene" uid="uid://dvvrkfbrg3h80" path="res://scenes/ui/InventoryUI.tscn" id="13_inventory"]
[ext_resource type="PackedScene" path="res://scenes/ui/BuildMenu.tscn" id="14_build_menu"]
[ext_resource type="PackedScene" path="res://scenes/ui/WorkbenchCraftingMenu.tscn" id="15_crafting"]
[ext_resource type="PackedScene" uid="uid://b8hgax2kqw7lr" path="res://scenes/ui/GeneratorMenu.tscn" id="16_generator"]
[ext_resource type="PackedScene" path="res://scenes/ui/StorageUI.tscn" id="17_storage"]
[ext_resource type="PackedScene" path="res://scenes/ui/DevMenu.tscn" id="18_dev_menu"]
[ext_resource type="PackedScene" uid="uid://b7gl23jy6jhi3" path="res://scenes/ui/EquipedWeaponUI.tscn" id="19_weapon_ui"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_1"]
vertices = PackedVector2Array(50, 50, 750, 50, 750, 550, 50, 550)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(50, 50, 750, 50, 750, 550, 50, 550)])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wall"]
size = Vector2(800, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wall_v"]
size = Vector2(20, 600)

[node name="Phase4TestArena" type="Node2D"]
script = ExtResource("7_test_setup")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_1")

[node name="UI" type="CanvasLayer" parent="."]

[node name="Instructions" type="Label" parent="UI"]
offset_left = 1072.0
offset_top = 25.0
offset_right = 1662.0
offset_bottom = 200.0
theme_override_font_sizes/font_size = 14
text = "PHASE 4: LOOT DROPS & ENEMY VARIETY TEST
- 1: Add Basic Enemy (RED, drops basic materials)
- 2: Add AI Enemy (YELLOW, mixed drops)
- 3: Add Ranged Enemy (BLUE TRIANGLE, ammo/electronics)
- 4: Add Heavy Melee (DARK RED, steel/armor)
- 5: Add Scout (GOLD DIAMOND, ammo/backpacks)
- 6: Add Engineer (BLUE HEXAGON, electronics/plasma)
- 0: Clear all enemies
- Kill enemies to see loot drops with rarity colors!
- Walk over or click loot to pick up
- Left Click or F: Attack  - Q: Switch weapon  - R: Reload"
vertical_alignment = 1

[node name="WeaponInfo" type="Label" parent="UI"]
offset_left = 1018.0
offset_top = 205.0
offset_right = 1408.0
offset_bottom = 235.0
theme_override_font_sizes/font_size = 12
text = "Weapon: Loading..."

[node name="EnemyCounter" type="Label" parent="UI"]
offset_left = 1018.0
offset_top = 245.0
offset_right = 1408.0
offset_bottom = 275.0
theme_override_font_sizes/font_size = 12
text = "Enemies: 0"

[node name="LootInfo" type="Label" parent="UI"]
offset_left = 1018.0
offset_top = 285.0
offset_right = 1408.0
offset_bottom = 335.0
theme_override_font_sizes/font_size = 11
text = "LOOT RARITY COLORS:
White = Common, Green = Uncommon
Blue = Rare, Purple = Epic"
vertical_alignment = 1

[node name="TestEnemies" type="Node2D" parent="."]

[node name="BasicEnemy1" parent="TestEnemies" instance=ExtResource("1_basic_enemy")]
position = Vector2(200, 150)

[node name="RangedEnemy1" parent="TestEnemies" instance=ExtResource("3_ranged_enemy")]
position = Vector2(100, 250)

[node name="HeavyMeleeEnemy1" parent="TestEnemies" instance=ExtResource("4_heavy_enemy")]
position = Vector2(600, 150)

[node name="ScoutEnemy1" parent="TestEnemies" instance=ExtResource("5_scout_enemy")]
position = Vector2(150, 400)

[node name="EngineerEnemy1" parent="TestEnemies" instance=ExtResource("6_engineer_enemy")]
position = Vector2(500, 400)

[node name="Player" parent="." instance=ExtResource("8_player")]
position = Vector2(400, 300)

[node name="Walls" type="Node2D" parent="."]

[node name="TopWall" type="StaticBody2D" parent="Walls"]
position = Vector2(400, 10)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/TopWall"]
shape = SubResource("RectangleShape2D_wall")

[node name="BottomWall" type="StaticBody2D" parent="Walls"]
position = Vector2(400, 590)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/BottomWall"]
shape = SubResource("RectangleShape2D_wall")

[node name="LeftWall" type="StaticBody2D" parent="Walls"]
position = Vector2(10, 300)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/LeftWall"]
shape = SubResource("RectangleShape2D_wall_v")

[node name="RightWall" type="StaticBody2D" parent="Walls"]
position = Vector2(790, 300)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/RightWall"]
shape = SubResource("RectangleShape2D_wall_v")

[node name="UI2" type="CanvasLayer" parent="."]

[node name="HUD" type="Control" parent="UI2"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
script = ExtResource("9_hud")

[node name="StatsPanel" type="VBoxContainer" parent="UI2/HUD"]
layout_mode = 0
offset_right = 300.0
offset_bottom = 170.0

[node name="HealthBar" type="ProgressBar" parent="UI2/HUD/StatsPanel"]
layout_mode = 2
value = 100.0

[node name="EnergyBar" type="ProgressBar" parent="UI2/HUD/StatsPanel"]
modulate = Color(0.3, 0.8, 1, 1)
layout_mode = 2
value = 100.0

[node name="HungerBar" type="ProgressBar" parent="UI2/HUD/StatsPanel"]
modulate = Color(1, 0.8, 0.3, 1)
layout_mode = 2
value = 100.0

[node name="ThirstBar" type="ProgressBar" parent="UI2/HUD/StatsPanel"]
modulate = Color(0.2, 0.8, 1, 1)
layout_mode = 2
value = 100.0

[node name="HealthLabel" type="Label" parent="UI2/HUD/StatsPanel"]
visible = false
layout_mode = 2
text = "Health: 100/100"

[node name="EnergyLabel" type="Label" parent="UI2/HUD/StatsPanel"]
visible = false
layout_mode = 2
text = "Energy: 100/100"

[node name="HungerLabel" type="Label" parent="UI2/HUD/StatsPanel"]
visible = false
layout_mode = 2
text = "Hunger: 100/100"

[node name="ThirstLabel" type="Label" parent="UI2/HUD/StatsPanel"]
visible = false
layout_mode = 2
text = "Thirst: 100/100"

[node name="ResourcePanel" type="PanelContainer" parent="UI2/HUD"]
layout_mode = 0
anchor_left = 1.0
anchor_right = 1.0
offset_left = -200.0
offset_bottom = 200.0

[node name="ResourceList" type="VBoxContainer" parent="UI2/HUD/ResourcePanel"]
layout_mode = 2

[node name="TimePanel" type="VBoxContainer" parent="UI2/HUD"]
layout_mode = 0
anchor_left = 0.5
anchor_right = 0.5
offset_left = -100.0
offset_right = 100.0
offset_bottom = 80.0

[node name="TimeLabel" type="Label" parent="UI2/HUD/TimePanel"]
layout_mode = 2
text = "06:00"
horizontal_alignment = 1

[node name="DayLabel" type="Label" parent="UI2/HUD/TimePanel"]
layout_mode = 2
text = "Day 1"
horizontal_alignment = 1

[node name="WeatherLabel" type="Label" parent="UI2/HUD/TimePanel"]
layout_mode = 2
text = "Clear"
horizontal_alignment = 1

[node name="Hotbar" parent="UI2/HUD" instance=ExtResource("10_hotbar")]
layout_mode = 1
script = null

[node name="AttributesUI" parent="UI2/HUD" instance=ExtResource("11_attributes")]
layout_mode = 1

[node name="SkillDebugUI" parent="UI2/HUD" instance=ExtResource("12_skill_debug")]
layout_mode = 1

[node name="InventoryUI" parent="UI2" instance=ExtResource("13_inventory")]

[node name="BuildMenu" parent="UI2" instance=ExtResource("14_build_menu")]

[node name="WorkbenchCraftingMenu" parent="UI2" instance=ExtResource("15_crafting")]

[node name="GeneratorMenu" parent="UI2" instance=ExtResource("16_generator")]

[node name="StorageUI" parent="UI2" instance=ExtResource("17_storage")]

[node name="DevMenu" parent="UI2" instance=ExtResource("18_dev_menu")]
visible = false
grow_horizontal = 2
grow_vertical = 2

[node name="EquipedWeaponUi" parent="UI2" instance=ExtResource("19_weapon_ui")]
